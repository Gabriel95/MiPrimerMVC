@using Domain.Entities
@using MiPrimerMVC.Models
@model MiPrimerMVC.Models.QuestionListModel
@{
    ViewBag.Title = "QandAs";
    Layout = "~/Views/Shared/QALayout.cshtml";
}

<h2>Questions and Answers</h2>
<div class="row">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Submited</th>
                <th>Question</th>
                <th>Answer</th>
            </tr>
        </thead>
        <tbody>
            @foreach (QandA qa in Model.ListQa)
            {
                <tr>
                    <td>@qa.Date</td>
                    <td>@qa.Question</td>
                    <td>@qa.Answer</td>
                    <td>@qa.Frequency</td>
                </tr>
            }
        </tbody>
    </table>
    <h3> Have a question? </h3>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="well well-sm">
                    <form class="form-horizontal" action="" method="post">
                       
              @using (Html.BeginForm("QandAs", "Home", null, FormMethod.Post, new { @class = "form-horizontal" }))
       {
                     <fieldset>
                        <legend class="text-center">Ask us</legend>

        <!-- Name input-->
        <div class="form-group">
            <label class="col-md-3 control-label" for="name">Name</label>
            <div class="col-md-9">
                @Html.TextBoxFor(x => x.NewQuestion.User, new { @class = "form-control", placeholder = "Your name", required = "required" })
            </div>
        </div>

        <!-- Email input-->
        <div class="form-group">
            <label class="col-md-3 control-label" for="email">Your E-mail</label>
            <div class="col-md-9">
                @Html.TextBoxFor(x => x.NewQuestion.Email, new { @class = "form-control", placeholder = "Your Email", type = "Email", required = "required" })
            </div>
        </div>

        <!-- Message body -->
        <div class="form-group">
            <label class="col-md-3 control-label" for="message">Your Question</label>
            <div class="col-md-9">
                @Html.TextAreaFor(x => x.NewQuestion.Question, new { @class = "form-control", placeholder = "Please enter your question here...", required = "required", rows = "5" })
            </div>
        </div>

        <!-- Form actions -->
        <div class="form-group">
            <div class="col-md-12 text-right">
                <button type="submit" class="btn btn-primary btn-lg">Submit</button>
            </div>
        </div>
    </fieldset>
        }
                        @{
                            if (null != ViewBag.Message)
                            {
                                <script type="text/javascript">
                             alert("@ViewBag.Message");
                                </script>
                            }
                        }   
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


